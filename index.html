<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">

			<title>
				Broot
			</title>

			<style>
				.grid-container1 {
				  display: grid;
				  grid-template-columns: 150px 150px 150px 150px;
					grid-template-rows: 150px 150px 150px 150px;
				}

				.grid-container2 {
				  display: grid;
				  grid-template-columns: 75px 75px 75px 75px 75px 75px 75px;
					grid-template-rows: 100px;
				}

				.grid-item {
				  background-color: rgba(255, 255, 255, 0.8);
				  border: 1px solid rgba(0, 0, 0, 0.8);
					padding: 5	0px;
				  font-size: 10px;
					display: flex;
					align-items: center;
					justify-content: center;
					transform: rotate(-0deg);
				}
			</style>

		</head>

	<body>
		<div class="grid-container1">
			<div class="grid-item" id="1"></div>
			<div class="grid-item" id="2"></div>
			<div class="grid-item" id="3"></div>
			<div class="grid-item" id="4"></div>
			<div class="grid-item" id="5"></div>
			<div class="grid-item" id="6"></div>
			<div class="grid-item" id="7"></div>
			<div class="grid-item" id="8"></div>
			<div class="grid-item" id="9"></div>
			<div class="grid-item" id="10"></div>
			<div class="grid-item" id="11"></div>
			<div class="grid-item" id="12"></div>
			<div class="grid-item" id="13"></div>
			<div class="grid-item" id="14"></div>
			<div class="grid-item" id="15"></div>
			<div class="grid-item" id="16"></div>
		</div>

		<br>

		<div class="grid-container2">
			<div class="grid-item" id="Robot11"></div>
			<div class="grid-item" id="Robot12"></div>
			<div class="grid-item" id="Robot13"></div>
			<div class="grid-item" id="Robot14"></div>
			<div class="grid-item" id="Robot15"></div>
			<div class="grid-item" id="Robot16"></div>
			<div class="grid-item" id="Robot17"></div>
		</div>

		<br>

		<div class="grid-container2">
			<div class="grid-item" id="Robot21"></div>
			<div class="grid-item" id="Robot22"></div>
			<div class="grid-item" id="Robot23"></div>
			<div class="grid-item" id="Robot24"></div>
			<div class="grid-item" id="Robot25"></div>
			<div class="grid-item" id="Robot26"></div>
			<div class="grid-item" id="Robot27"></div>
		</div>

		</br>



		Player

		<br>

		<input type="radio" id="#1" name="Player" value="">
		<label>1</label>
		<input type="radio" id="#2" name="Player" value="">
		<label>2</label>

		<br>

		Position

		<br>

		<input type="radio" id="111" name="radio1" value="R11">
		<label>1</label>
		<input type="radio" id="112" name="radio1" value="R12">
		<label>2</label>
		<input type="radio" id="113" name="radio1" value="R13">
		<label>3</label>
		<input type="radio" id="114" name="radio1" value="R14">
		<label>4</label>
		<input type="radio" id="115" name="radio1" value="R15">
		<label>5</label>
		<input type="radio" id="116" name="radio1" value="R16">
		<label>6</label>
		<input type="radio" id="117" name="radio1" value="R17">
		<label>7</label>

		<br>

		<button onclick="Forward()">Forward</button>
		<button onclick="Turn()">Turn</button>
		<button onclick="Run()">Run</button>
		<button onclick="Array1()">Array</button>

	</body>

	<script>
"use strict"
	var x1 = document.createElement("img");
	x1.setAttribute("src", "robotimage_final.png");
	x1.setAttribute("width", "125");
	x1.setAttribute("height", "125");
	x1.setAttribute("alt", "Robot");
	x1.style.transform = "rotate(270deg)"

	var x2 = document.createElement("img");
	x2.setAttribute("src", "robotimage_final.png");
	x2.setAttribute("width", "125");
	x2.setAttribute("height", "125");
	x2.setAttribute("alt", "Robot");
	x2.style.transform = "rotate(90deg)"

	var x = ["",x1,x2];

	var go = [null,0,0];

	var Program = [
		null,
		[null,"0","0","0","0","0","0","0"],
		[null,"0","0","0","0","0","0","0"]
	];
	console.log(Program);

	var Place = ["",1,16];
	var rotation = ["",270,90];
	var k;
	var l;
	document.getElementById(1).appendChild(x[1]);
	document.getElementById(16).appendChild(x[2]);

	document.getElementById(111).checked = true;
	document.getElementById("#1").checked = true;

		function RobotForward(l) {
			console.log(l);
			if (rotation[l] == 180) {
				if (Place[l] > 4) {
					Place[l] = Place[l] - 4;
					document.getElementById(Place[l]).appendChild(x[l]);
				}
			}
			if (rotation[l] == 270) {
				if (Place[l] % 4 !== 0) {
					Place[l] = Place[l] + 1;
					document.getElementById(Place[l]).appendChild(x[l]);
				}
			}
			if (rotation[l] == 0) {
				if (Place[l] < 13) {
					Place[l] = Place[l] + 4;
					document.getElementById(Place[l]).appendChild(x[l]);
				}
			}
			if (rotation[l] == 90) {
				if (Place[l] % 4 !== 1) {
					Place[l] = Place[l] - 1;
					document.getElementById(Place[l]).appendChild(x[l]);
				}
			}
		}

		function Rotate(l) {
			rotation[l] = (rotation[l] + 90) % 360;
			x1.style.transform = "rotate(" + rotation[1] + "deg)"
			x2.style.transform = "rotate(" + rotation[2] + "deg)"
    }


		function Forward() {
			if (go[Player()] == 0) {
				for (var i = 1; i < 8; i++) {
    			if (document.getElementById(110 + i).checked) {
						if (Program[Player()][i] == "T") {
							Program[Player()][i] = "F";
							go[Player()] = 1;
						} else {
							for (var j = 1; j < i+1; j++) {
								if (Program[Player()][i-j] != "0") {
									Program[Player()][i-j+1] = "F";
									go[Player()] = 1;
									break;
								}
							}
						}
	   			}
					break;
  			}
				Array1();
				Run();
			}
		}


		function Turn() {
			if (go[Player()] == 0) {
				for (var i = 1; i < 8; i++) {
    			if (document.getElementById(110 + i).checked) {
						if (Program[Player()][i] == "F") {
							Program[Player()][i] = "T";
							go[Player()] = 1;
						}	else {
							for (var j = 1; j < i + 1; j++) {
								if (Program[Player()][i-j] != "0") {
									Program[Player()][i-j+1] = "T";
									go[Player()] = 1;
									break;
								}
							}
						}
	   			}
  			}
				Array1();
				Run();
			}
		}

		function Run() {
			if (go[1]==1 && go[2]==1) {
				for (var i = 1; i < 8; i++) {
					for (var l = 1; l < 3; l++) {
						if (Program[l][i] == "T") {
							Rotate(l);
						}
						if (Program[l][i] == "F") {
							RobotForward(l);
						}
					}
				}
				go = ["",0,0];
			}
		}

		function Array1() {
			console.log("Player" + Player());
			for (k = 1; k < 8; k++) {
				if (Program[Player()][k] == "F") {
					ForwardCard();
				}
				if (Program[Player()][k] == "T") {
					TurnCard();
				}
			}
		}

		function ForwardCard() {
			var y = document.createElement("img");
			y.setAttribute("src", "forwardCard.jpg");
			y.setAttribute("width", "72");
			y.setAttribute("height", "90");
			y.setAttribute("alt", "Robot");
			document.getElementById("Robot" + Player() + k).innerHTML = "";
			document.getElementById("Robot" + Player() + k).appendChild(y);
		}

		function TurnCard() {
			var z = document.createElement("img");
			z.setAttribute("src", "turnCard.jpg");
			z.setAttribute("width", "72");
			z.setAttribute("height", "90");
			z.setAttribute("alt", "Robot");
			document.getElementById("Robot" + Player() + k).innerHTML = "";
			document.getElementById("Robot" + Player() + k).appendChild(z);
		}

		function Player() {
			for (var i = 1; i < 3; i++) {
				if (document.getElementById("#" + i).checked){
					return i;
				}
			}
		}

	</script>

</html>
